%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem statement
\begin{statement}[
  problempoints=100,
  timelimit=1 sekunda,
  memorylimit=512 MiB,
]{Dugput}

``\textit{It's a \textbf{long way} to the top if you wanna rock 'n' roll}'' -- AC \text{\Lightning} DC

Dug je put do statusa rock-zvijezde, dug je put kada putujete hrvatskim
željeznicama, dug je put do zahoda kad vam je najpotrebniji, dug je put\ldots

Postoje razni dugi putovi i svašta bi se o njima dalo napisati, no to je već
tema za vaš najdraži blog(aritam). Vjerujemo da ćete se složiti kako je put do
plasmana u hrvatsku informatičku reprezentaciju također dug. Srećom, vaš se
ovogodišnji put bliži kraju, a da biste ga uspješno savladali morate nam
odgovoriti na $Q$ jednostavnih pitanja o dugim putovima.

U $i$-tom upitu promatramo pravokutnu ploču koja se sastoji od $N_i$ redaka i
$M_i$ stupaca.  Pronađite što dulji put između polja koje se nalazi u
$A_i$-tom retku i $B_i$-tom stupcu i polja koje se nalazi u $C_i$-tom retku i
$D_i$-tom stupcu. Pritom se smijete kretati u četiri osnovna smjera (gore,
dolje, lijevo i desno) te na svako polje smijete stati najviše jednom.

\text{\twonotes} \textit{Well it's a long way, you should've told me... it's a long way, such a long way...}
\text{\eighthnote} \text{\twonotes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Input
\subsection*{Ulazni podaci}
U prvom je retku prirodan broj $Q$ iz teksta zadatka.

U $i$-tom od sljedećih $Q$ redaka su brojevi $N_i$, $M_i$, $A_i$, $B_i$, $C_i$ i 
$D_i$ iz teksta zadatka. Pritom vrijedi $1 \leq A_i, C_i \leq N_i$, $1 \leq B_i, D_i \leq M_i$, te $(A_i, B_i) \neq (C_i, D_i)$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Output
\subsection*{Izlazni podaci}

Postoje dva tipa podzadataka (vidi tablicu bodovanja).

\textbf{Tip \textit{konstrukcija}:}

Kao odgovor na $i$-ti upit potrebno je ispisati $2N_i-1$ redaka s po $3M_i-2$
znakova koji predstavljaju put koji ste pronašli.

Početno i završno polje ploče predstavljamo znakom \texttt{'*'} (ASCII $42$),
preostala polja ploče predstavljamo znakom \texttt{'o'} (ASCII $111$),
okomite dijelove puta (povezana polja u istom stupcu) predstavljamo znakom
\texttt{'|'} (ASCII $124$), a vodoravne dijelove puta (povezana polja u istom
retku) predstavljamo znakovima \texttt{'-{}-'} (ASCII $45$).

Između susjednih polja gdje put ne prolazi nalaze se bjeline, i to dva znaka
razmaka (ASCII $32$) između polja u istom retku, odnosno jedan znak razmaka
između polja u istom stupcu.

\textbf{Tip \textit{duljina puta}:}

Kao odgovor na $i$-ti upit potrebno je ispisati prirodan broj koji predstavlja
najveću moguću duljinu puta.

\textit{Napomena:} Duljinu puta definiramo kao \textbf{broj polja} kroz koje put prolazi.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Scoring
\subsection*{Bodovanje}
U svim podzadacima vrijedi $1 \leq N_i, M_i \leq 5\,000$ i $1 \leq Q \leq 1\,600$.

{\renewcommand{\arraystretch}{1.4}
  \setlength{\tabcolsep}{6pt}
  \begin{tabular}{ccll}
  Podzadatak & Broj bodova & Ograničenja & Tip izlaza \\ \midrule
  1 & ?? & $2 \leq N_i \cdot M_i \leq 100$ & konstrukcija \\
  2 & ?? & $2 \leq N_i \cdot M_i \leq 1\,000$ & konstrukcija \\
  3 & ?? & $2 \leq N_i \cdot M_i \leq 15\,000$, $1 \leq M_i \leq 3$ & konstrukcija \\
  4 & ?? & $2 \leq N_i \cdot M_i \leq 100\,000$ & konstrukcija \\
  5 & 15 & $2 \leq N_i \cdot M_i \leq 100\,000$ & duljina puta \\
\end{tabular}}

\textbf{Tip \textit{konstrukcija}:}

Neka je
\begin{align*}
    d_\mathrm{odg}^{(i)} &= \text{duljina puta u vašem odgovoru na $i$-ti upit} \\ 
    d_\mathrm{max}^{(i)} &= \text{najveća moguća duljina puta u $i$-tom upitu} \\
    k &= \min_{1 \leq i \leq Q} \frac{d_\mathrm{odg}^{(i)}}{d_\mathrm{max}^{(i)}}
\end{align*}
Tada ćete u tom podzadatku dobiti sljedeći udio bodova:
\begin{align*}
    100\% &\quad \text{ako $k = 1$ (tj.\ $d_\mathrm{odg}^{(i)} = d_\mathrm{max}^{(i)}$ za sve $i$)} \\
    k \cdot 70\% &\quad \text{inače}
\end{align*}

Svaki podzadatak sadržavat će točno jedan testni primjer.

\textbf{Tip \textit{duljina puta}:}

Bodovanje je ``obično'', tj.\ ako su dvi odgovori točni dobit ćete sve bodove,
a inače ćete dobiti nula bodova.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Examples
\subsection*{Probni primjeri}
\begin{tabularx}{\textwidth}{X'X}
\sampleinputs{test/dugput.dummy.in.1}{test/dugput.dummy.out.1} &
\sampleinputs{test/dugput.dummy.in.2}{test/dugput.dummy.out.2}
\end{tabularx}

% We're done

\end{statement}

%%% Local Variables:
%%% mode: latex
%%% mode: flyspell
%%% ispell-local-dictionary: "croatian"
%%% TeX-master: "../hio.tex"
%%% End:
