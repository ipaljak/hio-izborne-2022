%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem statement
\begin{statement}[
  problempoints=100,
  timelimit=5 seconds,
  memorylimit=512 MiB,
]{Mensza}

Mr.\ Malnar recently founded \textit{Mensza} -- the greatest, most prestigious
and the only international association of highly-intelligent gastronomy
enthusiasts. As you might have guessed, not anyone can join the association,
only special candidates that have excelled on an entrance exam.  Of course,
the exam consists of an IQ-related part, and a food-related part.  We will
showcase an example of an IQ-related part in this task, and the contestants
will have a chance to attempt the food-related part after the contest.

The entrance exam candidates in this story are Alojzije, Benjamin and Cecilija.
Mr.\ Malnar sized them up, invented a worthy problem, and first spoke to Alojzije:

``Alojzije, you'll be the first to enter my office, where I'll show you the
  integer $A$. Then, you'll write an array of integers $a = (a_1, a_2,
\ldots, a_{l_a})$ on a piece of paper, but it's length $l_a$ must not exceed
$L$.''

After that, he turned over to Benjamin:

``Benjamin, you'll be the next to enter my office, where I'll show you the
integer $B \ne A$. Then, you'll write an array of integers $b = (b_1, b_2,
\ldots, b_{l_b})$ on a piece of paper, but it's length $l_b$ must not exceed
$L$.''

Lastly, he addressed Cecilija:

``Cecliija, you'll be the last to enter my office, where I'll show you the
array of integers $c$ which I've determined based on arrays $a$ and $b$. More
precisely, for each number appearing in the arrays $a$ and $b$, I'll append
to the array $c$ number of times that number occurs in the union of $a$ and
$b$. Also, I'll present the array $c$ to you in a non-decreasing order. For
example, if $a = (1, 2, 4)$ and $b = (1, 1, 2, 3)$, I'll show you
$c = (1, 1, 2, 3)$ because numbers $3$ and $5$ appear once, number $2$ twice,
and number $1$ thrice. After I show you the array $c$, you should tell me which
of the integers $A$ and $B$ is greater.''

He once more addressed all of the candidates:

``You have 60 minutes to think of a strategy and then we'll proceed with the
exam. After that, you're not allowed to communicate any more. We'll repeat the
whole procedure a couple of times until \sout{I confirm you're not just lucky}
the food arrives.''

Your task is to think of a strategy that would allow Alojzije, Benjamin and
Cecilija to pass the IQ-part of the exam.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Input
\subsection*{Input}
The first line contains an integer $L$ from the task description.

The second line contains an integer $Q$ representing the number of scenarios
you must process. Each scenario corresponds to some interaction happening in
the office of Mr.\ Malnar.

The $i$-th of the next $Q$ lines describes the $i$-th scenario. The line will
begin with either \texttt{alojzije}, \texttt{benjamin} or \texttt{cecilija},
depending on which candidate was summoned to the office.

If the $i$-th line begins with the word \texttt{alojzije}, then it will also
contain the integer $A$ from the task description.

If the $i$-th line begins with the word \texttt{benjamin}, then it will also
contain the integer $B$ from the task description.

If the $i$-th line begins with the word \texttt{cecilija}, then it will be
continued with $l_c$ (length of an array $c$), followed by the elements of
$c$ in non-decreasing order $(c_1 \le c_2 \le \ldots \le c_{l_c})$.

\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Output
\subsection*{Output}
The $i$-th of the next $Q$ lines should contain an answer to the $i$-th
input scenario.

If the $i$-th input scenario was of the form \texttt{alojzije $A$}, then you
should first output the number $0 \le l_a \le L$ (length of $a$), followed by
the elements of $a$ representing the array that Alozije would write on the
piece of paper after being presented with the number $A$ in Mr.\ Malnar's office.
Elements of $a$ need to be between $0$ and $10^9$ inclusive.

If the $i$-th input scenario was of the form \texttt{benjamin $B$}, then you
should first output the number $0 \le l_b \le L$ (length of $b$), followed by
the elements of $b$ representing the array that Benjamin would write on the
piece of paper after being presented with the number $B$ in Mr.\ Malnar's office.
Elements of $b$ need to be between $0$ and $10^9$ inclusive.

If the $i$-th input scenario was of the form \texttt{cecilija $l_c$ $c_1$ ...
$c_{l_c}$}, then you need to output ``\texttt{A}'' if Ceclija would determine
that $A > B$ based on array $c$. Conversely, you need to output ``\texttt{B}'',
of Cecilija would determine that $A < B$ based on array $c$. You can assume that
an array $c$ will be generated based on arrays $a$ and $b$ that your program has
produced when processing scenarios \texttt{alojzije $A$} and \texttt{benjamin $B$}.
It is possible that your program has produce the arrays $a$ and $b$ in a previous
run.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Scoring
\subsection*{Scoring}
Your solution will be tested in two runs. First it will be ran on a test case
containing only scenarios of the form  \texttt{alojzije $A$} or
\texttt{benjamin $B$}. Assuming your program processes all scenarios and produces
outputs in a valid format, it will be ran a second time. In the second run, all
scenarios will begin with the world \texttt{cecilija}, and the corresponding
arrays $c$ will be generated based on various combinations of the arrays $a$
and $b$ your program has produced in the first run. The value of the input parameter
$L$ will be the same in both runs. If your program correctly answers all scenarios
in the second run, it will be considered correct.

The execution time of your submission is the sum of execution times of both runs.

If we denote with $N$ the maximum value of numbers $A$ and $B$ in all test cases
of a particular subtask, your solutions will be scored according to the following
table:

{\renewcommand{\arraystretch}{1.4}
  \setlength{\tabcolsep}{6pt}
  \begin{tabular}{ccl}
   Subtask & Score & Constraints \\ \midrule
    1 & 11 & $N = 100$, $L = 200$, $1 \le Q \le 10\,000$ \\
    2 & 23 & $N = 1\,000$, $L = 110$, $1 \le Q \le 1\,000\,000$ \\
    3 & 66 & $N = 500\,000$, $L = 20$, $1 \le Q \le 1\,000\,000$
\end{tabular}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Examples
\subsection*{Example}
\subsubsection*{First Run}
{\renewcommand{\arraystretch}{1.4}
  \setlength{\tabcolsep}{6pt}
  \begin{tabular}{ccl}
    Input & Output & Comment \\ \midrule
     200 & & Arrays that Alojzije and Benjamin are writing down can have at most $200$ elements. \\
     3   & & You must process $3$ scenarios. \\
    \texttt{\frenchspacing alojzije 1} & \texttt{1 23} & Alojzije is writing down $a = (23)$ based on number $1$. \\
    \texttt{\frenchspacing benjamin 2} & \texttt{1 42} & Benjamin is writing down $b = (42)$ based on number $2$. \\
    \texttt{\frenchspacing alojzije 3} & \texttt{2 11 11} & Alojzije is writing down $a = (11, 11)$ based on number $3$. \\
\end{tabular}}

\subsubsection*{Second Run}
{\renewcommand{\arraystretch}{1.4}
  \setlength{\tabcolsep}{6pt}
  \begin{tabular}{ccl}
    Input & Output & Comment \\ \midrule
     200 & & Arrays that Alojzije and Benjamin are writing down can have at most $200$ elements. \\
     2   & & You must process $2$ scenarios. \\
    \texttt{\frenchspacing cecilija 2 1 1} & \texttt{B} & Array $c = (1, 1)$ was generated based on $a = (23)$ and $b = (42)$, so $A < B$.\\
    \texttt{\frenchspacing cecilija 2 1 2} & \texttt{A} & Array $c = (1, 2)$ was generated based on $a = (11, 11)$ and $b = (42)$, so $A > B$.\\
\end{tabular}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% We're done
\end{statement}

%%% Local Variables:
%%% mode: latex
%%% mode: flyspell
%%% ispell-local-dictionary: "croatian"
%%% TeX-master: "../hio.tex"
%%% End:
